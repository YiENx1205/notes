# 变量类型

第一种（按照位置）：局部变量 vs 成员变量（或属性）

- 局部变量

	- 方法内部，生命周期与方法一致
	- 没有默认值，若使用，`必须在使用前显式赋值`
	- 栈内存中

- 成员变量

	- 再分：
		- 类变量/静态变量（static）
			- 准备阶段，默认赋值 —> 初始化阶段，显式赋值
		- 实例变量（无static）
			- 随对象的创建，会在堆空间中分配实例变量空间，并进行默认赋值

	- 类中，方法外
	- 有默认值，规则和数组一致
	- 堆内存中

第二种（按照类型）：基本数据类型 vs 引用数据类型变量（类、数组、接口）



# 常量池

存放

- 字面量
- 符号引用

<br>

1. **(Class)常量池**
  - Class 文件中除了有类的版本、字段、方法、接口等描述等信息外，还有一项信息是常量池（Constant Pool Table），存放编译期生成的各种`字面量`和`符号引用`
  - 每个class文件都有一个class常量池
2. **运行时常量池**（方法区里的重要结构）
  - 运行时常量池存在于内存中，也就是`class常量池被加载到内存之后的版本`，不同之处是：它的字面量可以动态的添加(String.intern())，符号引用可以被解析为直接引用
  - JVM在执行某个类的时候，必须经过加载、连接、初始化，而连接又包括验证、准备、解析三个阶段。而当类加载到内存中后，jvm就会将class常量池中的内容存放到运行时常量池中，由此可知，`运行时常量池也是每个类都有一个`。在解析阶段，会把`符号引用替换为直接引用`，解析的过程会去`查询字符串常量池`，也就是我们上面所说的StringTable，以保证运行时常量池所引用的字符串与字符串常量池中是一致的。

> 字符串常量池
>
> - ≤1.6 方法区中
> 	- String Pool里放的都是字符串常量
> - ≥1.7 移到了堆中
> 	- 由于String#intern()发生了改变，因此String Pool中也可以存放放于堆内的字符串对象的引用
> - 字符串常量池中的字符串只保存一份

## 字面量和符号引用

- 字面量包括：
	- 文本字符串 
	- 八种基本类型的值 
	- 被声明为final的常量等;
- 符号引用包括：
	- 类和方法的全限定名 
	- 字段（属性field）的名称和描述符 
	- 方法的名称和描述符。